# 安全政策

## 支持的版本

| 版本 | 支持状态          |
|---------|--------------------|
| 最新  | :white_check_mark: |
| 旧版本  | :x:                |

我们仅为最新版本的 Vibe Coding 提供安全更新。

## 报告漏洞

如果你发现安全漏洞，请 **不要** 公开提交 issue。

### 如何报告

1. 发送邮件至：**security@vibe-coding.dev**
2. 包含以下信息：
   - 漏洞描述
   - 复现步骤
   - 潜在影响
   - 建议的修复方案（如有）

### 响应时间

- **48 小时内**：确认收到并回复
- **7 天内**：评估并提供修复计划
- **14 天内**：发布关键漏洞的补丁
- **30 天内**：发布非关键漏洞的补丁

### 后续流程

1. 我们将验证漏洞
2. 确定严重级别（关键/高/中/低）
3. 开发修复方案
4. 与你协调发布时间（如需要）
5. 修复部署后公开披露

## 用户安全最佳实践

### 环境变量

- 永远不要将 `ANTHROPIC_API_KEY` 提交到版本控制
- 在生产环境中使用强且唯一的 `JWT_SECRET`
- 定期轮换密钥

### 数据库安全

- 在生产环境中更改默认 MySQL 密码
- 限制数据库仅允许本地访问
- 在生产环境中启用数据库 SSL 连接
- 定期将 MySQL 更新到最新版本

### 部署

- 保持依赖更新 (`go get -u ./...`)
- 生产环境使用 HTTPS (TLS 1.3+)
- 配置防火墙规则限制访问
- 通过中间件启用安全头
- 定期审计日志以发现可疑活动

### API 安全

- 始终验证和清理用户输入
- 使用参数化查询防止 SQL 注入
- 启用速率限制防止滥用
- 正确配置 CORS
- 保密 API 密钥

## 安全特性

Vibe Coding 包含多个内置安全特性：

| 特性 | 描述 |
|---------|-------------|
| JWT 认证 | 基于 Token 的认证，可配置过期时间 |
| 密码哈希 | bcrypt，成本因子 12 |
| 速率限制 | 三层速率限制（IP、用户、API） |
| CORS 保护 | 可配置的源白名单 |
| 安全头 | HSTS、X-Frame-Options、CSP 等 |
| SQL 注入保护 | GORM 参数化查询 |
| XSS 保护 | 输入清理和输出编码 |
| 请求验证 | 所有输入的结构体验证 |

## 依赖扫描

我们使用 GitHub Dependabot 自动监控和更新依赖。安全建议通过以下渠道跟踪：
- [GitHub 安全建议](https://github.com/test-tt/vibe-coding/security/advisories)
- [Go 漏洞数据库](https://pkg.go.dev/vuln/)

## 联系方式

对于非漏洞报告的安全相关问题：
- 使用 `security` 标签开启讨论
- 邮箱：security@vibe-coding.dev

## 安全审计

本项目尚未经过专业安全审计。我们欢迎安全研究人员的贡献，鼓励负责任的披露。

### 重点关注领域

如果你进行安全审查，请重点关注：
- 认证和授权流程
- 输入验证和清理
- 数据库查询构造
- 文件上传处理（如有）
- 会话管理
- API 速率限制
- 密钥管理
